<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>function</title>
</head>
<body>
    <h1>function</h1>
    <!-- 자바 대비 함수의 차이점
    1. 값으로 존재할 수 있다.
    (변수에 담을 수 있고, 매개인자, 리턴값으로 사용 가능하다.) -->
    <h2>함수선언 | 함수표현</h2>
    
    <script>
        /*window.onload 이벤트
        * 페이지 내에 모든 html 태그에 대한 
        * DOM 등록이 완료된 시점에 load 이벤트 발생.
        * 실제 찍었을 때 본 html 문서에서 가장 마지막에 실행됨.
        */


        //함수표현식으로 작성된 함수 호출!
        window.onload = function(){
            bar();  // 함수표현식으로 작성해도 에러나지 않음.
        };

        foo(); //함수 선언 전에 호출 가능
        /**
         * 함수선언 function Declaration
         * hoisting 대상(함수 선언 전 호출 가능)
         * 선언부만 끌어올린다.
         */ 
        function foo(){
            console.log("foo 호출!");
        }

        //bar(); //Uncaught TypeError
                 //변수는 hoisting 되지만, bar가 함수인지는 모름

        /**
         * 함수표현식 function Expression
         * 함수 자체는 hoisting되지 않아, 미리 호출 불가
         */ 

         var bar = function(){
            console.log("bar 호출!");
         };
    </script>

    <h2>즉시실행함수</h2>
    <script>
        /**
         * IIFE
         * Immediately Invoked function Expression
         * 함수 선언과 실행을 동시에 처리
         * 이름이 있어도 무시된다.
         */ 
    
        (function(){
            console.log("life type1 호출!");
        })();

        /**
         * 매개변수 전달 가능
         */ 
        (function(a){
            console.log("life type2 호출!" + a);
        }(100));

    </script>

    <h2>함수의 매개변수 | 매개인자</h2>
    <!-- 아래의 경우에 오류는 발생하지 않음 -->
    <input type="button" value="test1()" onclick="test1();">
    <input type="button" value="test1(3)" onclick="test1(3);">
    <input type="button" value="test1(3,7)" onclick="test1(3,7);">
    <input type="button" value="test1(3,7,10)" onclick="test1(3,7,10)">
    <script>
        /**
         * 매개변수 : 함수선언부에 값(매개인자)이 전달된 공간
         * 매개인자 : 함수호출부에 전달되는 값
         */ 
        function test1(a, b){
            console.log("a = " + a);
            console.log("b = " + b);
            
            //숨겨진 참조 arguments 매개인자를 유사배열로 가지고 있다.
            // console.log(arguments);
            for(var i = 0; i < arguments.length; i++){
                console.log(i + " : " + arguments[i]);
            }
        }
    </script>
    

    <h2>값으로써의 함수</h2>
    <input type="button" value="매개인자" onclick="test2(foo);">
    <input type="button" value="리턴값" onclick="test3();">
    <script>
        /**
         * 함수를 리턴할 수 있다.
         */     
        function test3(){
            var f = koo();
            f('honggd');
            console.log(f);         //function(){console.log("hello~" + name);};
            console.log(typeof f);  //function
            
            //105~106을 한 줄로
            (koo())('sinsa');
            (function(name){
                console.log("hello~" + name);
            })('sejong');
        }

        function koo(){
            return function(name){
                console.log("hello~" + name);
            };
        }
    
    
        /**
         * 함수는 매개인자로 사용가능하다.
         */ 
        function test2(f){
            console.log(typeof(f));
            
            for(var i = 0; i < 100; i++)
                f();
            
        }
    </script>

</body>
</html>