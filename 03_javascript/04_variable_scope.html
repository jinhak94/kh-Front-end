<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Variable & Scope</title>
</head>
<body>
    <h1>Variable & Scope</h1>
    <input type="button" value="실행" onclick="test1();">
    
    
    
    <script>
        var a = 100;//전역변수
        //지역변수 : 함수 안에 선언한 변수
        //전역변수 : 함수 밖에 선언한 변수. window(최상위객체) 객체의 속성
        //객체 안에 있으면 메소드. 함수는 메소드를 포함하는 개념
        function test1(){
            var a = 88;
            var b=  99;
            console.log("a = " + a);
            console.log("b = " + b);

            //전역변수 a를 호출
            //일반함수 안의 this는 window 객체를 가리킨다.
            //tag element 안의 this는 element 자신을 가리킨다.
            console.log("this.a = " + this.a);

        }
        //밖에서 b는 가져다 쓸 수 있지만,
        //a는 가져다 쓸 수 없다.

        //scope : 유효범위, 생존주기(life cycle)와 관련
        //javascript에서는 c계열 언어의 block scope가 없고
        //function scope가 존재한다.
        
        if(true){
            var name = '홍길동';
        }
        //출력이 된다. 괄호 안을 보는 것이 아니고,
        //함수 안에 있냐 아니냐를 본다.
        console.log(name);

        function foo(){
            var num = 100;

            if(true){
                var k = 200;
            }
            console.log("k = " + k);
        }

        foo();
        // console.log(num); // Uncaught ReferenceError

        //for 반복문
        for(var i = 0; i < 10; i++){
            console.log(i);
        }
        console.log(i);
    </script>

    <h2>hoisting</h2>
    <p>var 키워드를 통해 선언된 변수는 각 script 태그별로 끌어올려진다.</p>
    <script>
        var x; //hoisting 처리
        //function bar; 함수 hoisting 처리

        console.log("x = " + x); // x = undefined
        // var x = 100;
        x = 100;
        console.log("x = " + x); //x = 100

        //이것이 되는 이유는, 코드를 읽기 앞서서
        //hoisting 작업이 먼저 일어난다.
        bar();
        function bar(){
            console.log("bar 호출!");
        }


    </script>

</body>
</html>








